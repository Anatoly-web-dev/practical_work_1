[![home](./images/home.png)](./readme.md "Домой") [НА ГЛАВНУЮ](./readme.md "Вернуться на главную страницу")

## Возможные проблемы и их решение

![lifebuoy_logo](./images/lifebuoy_logo.png)

---

Git старается автоматически сливать изменения, однако это не всегда возможно. Иногда возникают конфликты.

###  В двух ветках были изменения в одной и той же строчке кода

В данной ситуации необходимо разрешить конфликт вручную:

* Для этого откройте файл там, где этого произошло;  
* Первый раздел (***HEAD***) - это то, что находиться в текущей ветке, куда вы пытались слить код;  
* Второй раздел (между ==== и >>>>***master***) - версия кода в ветке, откуда вы пытались слить код;  
* После внесения нужных изменений, добавьте ваш файл через `git add <имя_файла>` как измененный и создайте новый commit.

### Есть незакоммиченные изменения в ветке, и мы пытаемся переключиться на другую ветку

Например, нам нужно **срочно** переключиться на другую ветку и исправить в ней что либо, а у нас есть незавершенная задача в текущей ветке и нам нет необходимости делать commit.  
При попытке просто переключиться на другую ветку, Git нам выдает ошибку, ограждает нас от потери информации.  

Что же делать? Есть ***два варианта***: 

- *Менее предпочтительный вариант*
~~~bash
  git checkout -f <'имя_ветки'> # - переключит на указанную ветку моментально, и НЕ сохр. изменения в предыдущей ветке; 
~~~

- **Наиболее предпочтительный вариант**
~~~bash
  git stash # - сохраняет незакоммиченные изменения из всех файлов в ***буфере*** (*промежуточное хранилище данных*);
  git stash pop # - возвращает (загружает из буфера) ранее сохраненные изменения в ветку; 
~~~

> #### Цитаты великих людей  
> Будь внимателен при выборе веток, когда выполняешь команду `git stash pop`! Можно ошибочно слить их не в ту ветку!  
> -*~~Народная мудрость ;)~~ [Git book](https://git-scm.com/book/ru/v2 "оф. сайт Git")*

### Переключиться на определенный commit другой ветки с ветки master, не создавая commit в master

Например, мы работаем в ветке ***master*** и нам нужно срочно переключиться определенный commit другой ветки, и нам необходимо сохранить изменения, не создавая commit. 
Что делать? Нам нужно:  
1. Создать новую ветку и переключиться на нее, с помощью команды  

~~~bash
`git checkout -b <'имя ветки'>`
~~~

2. Переместить принудительно ветку в нужный нам commit, с помощью команды:  
~~~bash
`git branch -f <'имя_ветки кот. переносим'> <'хэш коммита'>`;
~~~

### Состояние "detached HEAD", выход из него

Мы можем переключиться на определенный commit любой ветки, но возникает состояние "**detached HEAD**".  
Особенность таких коммитов в том, что они НЕ учавствуют ни в одной из ветвей разработки!  
Нужно создать для этих коммитов полноценную ветку чтобы исправить это:

~~~bash
get checkout <'хэш коммита'> # - переключаемся на произвольный commit;
git cherry-pick <'хэш коммита'> # - создаем полноценную новую ветку для этого коммита;
~~~

### Получить определенные предыдущие версии файлов из репозитория, не трогая остальные файлы ветки

Для этого нам нужно выполнить следующую команду:

~~~bash
git checkout <'хэш коммита'> <'путь'> # - достаем выбранный файл или несколько файлов на момент указанного commit.
~~~

Восстановленные файлы добавляются автоматически в индекс.  
Если сейчас запустить `git commit`, то старая версия файла станет текущей.

### Названия файлов в проекте совпадают с названиями веток и коммитов

Если названия файлов или папок в проекте совпадают с названием веток или коммитов, `git checkout` пытается сначала найти ссылку или commit с таким именем, а если не нашел, то предполагает что это путь к файлу или папке. 

Пример, как указать, что это именно имя файла или папки:
~~~bash
git checkout -- <'master'> #флаг -- указывает, что мы обращаемся в первую очередь к файлу или папке, а не к ветке master
~~~

В [следующей главе](./history_commits.md) вы узнаете, как смотреть историю commit и какая от этого может быть польза.

---

[![previous](./images/arrow_left.png)](./rebasing.md "Предыдущая")
пред | | след [![next](./images/arrow_right.png)](./history_commits.md "Следующая")

---

lifebuoy logo by *[Cosima Mielke](https://pixelbuddha.net/)*, 
license: *[CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)*

Arrows right and left by *[Tatice](http://tatice.deviantart.com)*, 
license: *[CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)*

Home icon by *[Double-J Design](http://www.doublejdesign.co.uk)*, 
license: *[CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)*

LICENSE: *[MIT](./license.md "Лицензия")*